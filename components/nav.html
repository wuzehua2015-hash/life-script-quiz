<!-- ============================================
     人生剧本导航组件 - 哈利波特风格
     文件: components/nav.html
     版本: 2.4.2
     描述: 参考harrypotter.com的专业级导航
     ============================================ -->

<!-- 顶部栏 (Header Bar) - 高度70px -->
<header class="nav-header-bar" role="banner">
  <div class="nav-header-container">
    <!-- 左侧: 社交图标 -->
    <div class="nav-social-links" aria-label="社交媒体链接">
      <a href="#" class="nav-social-link" aria-label="YouTube" title="YouTube">
        <svg class="nav-social-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
        </svg>
      </a>
      <a href="#" class="nav-social-link" aria-label="TikTok" title="TikTok">
        <svg class="nav-social-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
        </svg>
      </a>
      <a href="#" class="nav-social-link" aria-label="微信" title="微信">
        <svg class="nav-social-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178A1.17 1.17 0 0 1 4.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178 1.17 1.17 0 0 1-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826 0 1.622-.12 2.361-.336a.722.722 0 0 1 .598.082l1.584.926a.272.272 0 0 0 .14.047c.134 0 .24-.111.24-.247 0-.06-.023-.12-.038-.177l-.327-1.233a.582.582 0 0 1-.023-.156.49.49 0 0 1 .201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-6.656-6.088V8.89c-.135-.01-.27-.027-.407-.032zm-2.53 3.274c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.97-.982zm4.844 0c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.969-.982z"/>
        </svg>
      </a>
      <a href="#" class="nav-social-link" aria-label="微博" title="微博">
        <svg class="nav-social-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M10.098 20.323c-3.977.391-7.414-1.406-7.672-4.02-.259-2.609 2.759-5.047 6.74-5.441 3.979-.394 7.413 1.404 7.671 4.018.259 2.6-2.759 5.049-6.739 5.443zM9.05 17.219c-.384.616-1.208.884-1.829.602-.612-.279-.793-.991-.406-1.593.379-.595 1.176-.861 1.793-.601.622.263.82.972.442 1.592zm1.27-1.627c-.141.237-.449.353-.689.253-.236-.09-.313-.361-.177-.586.138-.227.436-.346.672-.24.239.09.315.36.194.573zm.176-2.719c-1.893-.493-4.033.45-4.857 2.118-.836 1.704-.026 3.591 1.886 4.21 1.983.64 4.318-.341 5.132-2.179.8-1.793-.201-3.642-2.161-4.149zm7.563-1.224c-.346-.105-.579-.18-.402-.649.386-1.031.426-1.922.008-2.557-.785-1.187-2.93-1.123-5.354-.034 0 0-.766.331-.57-.271.378-1.207.32-2.217-.267-2.8-1.333-1.32-4.878.047-7.915 3.052C1.145 10.38 0 12.688 0 14.679c0 3.807 4.888 6.126 9.674 6.126 6.26 0 10.423-3.639 10.423-6.531 0-1.744-1.471-2.733-2.038-2.925zm.845-5.193c-.068-.042-.136-.077-.203-.114.067.037.135.072.203.114zm1.798 1.888c-.386-.436-.954-.688-1.542-.688-.146 0-.292.015-.435.045a1.84 1.84 0 0 0-.518.196c-.162.092-.31.204-.441.334-.13.13-.242.278-.334.44a1.84 1.84 0 0 0-.196.518c-.046.183-.069.372-.069.562 0 .146.015.292.045.435.03.143.075.282.135.414.06.132.133.257.218.373.085.116.182.222.29.318.108.096.226.181.352.254.126.073.26.133.4.179.14.046.285.078.433.095.148.017.297.02.445.009a1.84 1.84 0 0 0 .518-.096 1.84 1.84 0 0 0 .467-.233c.146-.092.279-.2.397-.323.118-.123.22-.26.304-.408.084-.148.15-.305.196-.467a1.84 1.84 0 0 0 .096-.518c.017-.148.02-.297.009-.445a1.84 1.84 0 0 0-.095-.433 1.84 1.84 0 0 0-.179-.4 1.84 1.84 0 0 0-.254-.352 1.84 1.84 0 0 0-.318-.29 1.84 1.84 0 0 0-.373-.218zm-2.5 2.5c-.068-.042-.136-.077-.203-.114.067.037.135.072.203.114z"/>
        </svg>
      </a>
    </div>

    <!-- 中间: Logo -->
    <div class="nav-logo-wrapper">
      <a href="index.html" class="nav-logo-link" aria-label="人生剧本首页">
        <span class="nav-logo-text">人生剧本</span>
      </a>
    </div>

    <!-- 右侧: 搜索和用户操作 -->
    <div class="nav-header-actions">
      <!-- 搜索框 -->
      <div class="nav-search-wrapper">
        <input type="search" class="nav-search-input" placeholder="Search..." aria-label="搜索">
        <button class="nav-search-btn" aria-label="搜索按钮">
          <svg class="nav-search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
        </button>
      </div>

    </div>
  </div>
</header>

<!-- 主导航栏 (Main Navigation) - 高度50px -->
<nav class="nav-main-nav" role="navigation" aria-label="主导航">
  <div class="nav-main-container">
    <!-- 移动端汉堡按钮 -->
    <button class="nav-hamburger" aria-label="打开菜单" aria-expanded="false" aria-controls="nav-drawer">
      <span class="nav-hamburger-line"></span>
      <span class="nav-hamburger-line"></span>
      <span class="nav-hamburger-line"></span>
    </button>

    <!-- 桌面端导航菜单 -->
    <ul class="nav-menu" role="menubar">
      <!-- 首页 -->
      <li class="nav-menu-item" role="none">
        <a href="index.html" class="nav-menu-link" role="menuitem">首页</a>
      </li>

      <!-- 开始测试 -->
      <li class="nav-menu-item" role="none">
        <a href="index.html#test" class="nav-menu-link" role="menuitem">开始测试</a>
      </li>

      <!-- 角色图鉴 -->
      <li class="nav-menu-item" role="none">
        <a href="collection/index.html" class="nav-menu-link" role="menuitem">角色图鉴</a>
      </li>

      <!-- 成就徽章 -->
      <li class="nav-menu-item" role="none">
        <a href="achievements/index.html" class="nav-menu-link" role="menuitem">成就徽章</a>
      </li>

      <!-- 个人中心 -->
      <li class="nav-menu-item" role="none">
        <a href="profile/index.html" class="nav-menu-link" role="menuitem">个人中心</a>
      </li>

      <!-- 每日觉察 (下拉菜单) -->
      <li class="nav-menu-item nav-has-dropdown" role="none">
        <button class="nav-menu-link nav-dropdown-toggle" aria-haspopup="true" aria-expanded="false" role="menuitem">
          每日觉察
          <svg class="nav-dropdown-arrow" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M2 4l4 4 4-4"/>
          </svg>
        </button>
        <ul class="nav-dropdown-menu" role="menu" aria-label="每日觉察子菜单">
          <li class="nav-dropdown-item" role="none">
            <a href="diary/index.html" class="nav-dropdown-link" role="menuitem">
              <span class="nav-dropdown-icon">📝</span>
              <span class="nav-dropdown-text">日记</span>
            </a>
          </li>
          <li class="nav-dropdown-item" role="none">
            <a href="mood/index.html" class="nav-dropdown-link" role="menuitem">
              <span class="nav-dropdown-icon">😊</span>
              <span class="nav-dropdown-text">情绪</span>
            </a>
          </li>
          <li class="nav-dropdown-item" role="none">
            <a href="journey/index.html" class="nav-dropdown-link" role="menuitem">
              <span class="nav-dropdown-icon">🌱</span>
              <span class="nav-dropdown-text">成长轨迹</span>
            </a>
          </li>
        </ul>
      </li>

      <!-- 实用工具 (下拉菜单) -->
      <li class="nav-menu-item nav-has-dropdown" role="none">
        <button class="nav-menu-link nav-dropdown-toggle" aria-haspopup="true" aria-expanded="false" role="menuitem">
          实用工具
          <svg class="nav-dropdown-arrow" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M2 4l4 4 4-4"/>
          </svg>
        </button>
        <ul class="nav-dropdown-menu" role="menu" aria-label="实用工具子菜单">
          <li class="nav-dropdown-item" role="none">
            <a href="guide/index.html" class="nav-dropdown-link" role="menuitem">
              <span class="nav-dropdown-icon">📖</span>
              <span class="nav-dropdown-text">应对指南</span>
            </a>
          </li>
          <li class="nav-dropdown-item" role="none">
            <a href="emergency/index.html" class="nav-dropdown-link" role="menuitem">
              <span class="nav-dropdown-icon">🆘</span>
              <span class="nav-dropdown-text">紧急支持</span>
            </a>
          </li>
          <li class="nav-dropdown-item" role="none">
            <a href="resources/index.html" class="nav-dropdown-link" role="menuitem">
              <span class="nav-dropdown-icon">📚</span>
              <span class="nav-dropdown-text">资源库</span>
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</nav>

<!-- 移动端抽屉菜单 (Mobile Drawer) -->
<div class="nav-drawer-overlay" id="nav-drawer-overlay" aria-hidden="true"></div>
<aside class="nav-drawer" id="nav-drawer" role="dialog" aria-label="移动端导航菜单" aria-modal="true" aria-hidden="true">
  <!-- 抽屉头部 -->
  <div class="nav-drawer-header">
    <span class="nav-drawer-title">人生剧本</span>
    <button class="nav-drawer-close" aria-label="关闭菜单">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18 6L6 18M6 6l12 12"/>
      </svg>
    </button>
  </div>

  <!-- 抽屉内容 -->
  <div class="nav-drawer-content">
    <ul class="nav-drawer-menu" role="menu">
      <!-- 首页 -->
      <li class="nav-drawer-item" role="none">
        <a href="index.html" class="nav-drawer-link" role="menuitem">首页</a>
      </li>

      <!-- 开始测试 -->
      <li class="nav-drawer-item" role="none">
        <a href="index.html#test" class="nav-drawer-link" role="menuitem">开始测试</a>
      </li>

      <!-- 分隔线 -->
      <li class="nav-drawer-divider" role="separator"></li>

      <!-- 角色图鉴 -->
      <li class="nav-drawer-item" role="none">
        <a href="collection/index.html" class="nav-drawer-link" role="menuitem">角色图鉴</a>
      </li>

      <!-- 成就徽章 -->
      <li class="nav-drawer-item" role="none">
        <a href="achievements/index.html" class="nav-drawer-link" role="menuitem">成就徽章</a>
      </li>

      <!-- 个人中心 -->
      <li class="nav-drawer-item" role="none">
        <a href="profile/index.html" class="nav-drawer-link" role="menuitem">个人中心</a>
      </li>

      <!-- 分隔线 -->
      <li class="nav-drawer-divider" role="separator"></li>

      <!-- 每日觉察 (可展开) -->
      <li class="nav-drawer-item nav-drawer-has-submenu" role="none">
        <button class="nav-drawer-link nav-drawer-submenu-toggle" aria-expanded="false" aria-controls="drawer-submenu-awareness">
          <span>每日觉察</span>
          <svg class="nav-drawer-submenu-icon" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 2l4 4-4 4"/>
          </svg>
        </button>
        <ul class="nav-drawer-submenu" id="drawer-submenu-awareness" role="menu" aria-label="每日觉察子菜单">
          <li class="nav-drawer-submenu-item" role="none">
            <a href="diary/index.html" class="nav-drawer-submenu-link" role="menuitem">
              <span class="nav-drawer-icon">📝</span>日记
            </a>
          </li>
          <li class="nav-drawer-submenu-item" role="none">
            <a href="mood/index.html" class="nav-drawer-submenu-link" role="menuitem">
              <span class="nav-drawer-icon">😊</span>情绪
            </a>
          </li>
          <li class="nav-drawer-submenu-item" role="none">
            <a href="journey/index.html" class="nav-drawer-submenu-link" role="menuitem">
              <span class="nav-drawer-icon">🌱</span>成长轨迹
            </a>
          </li>
        </ul>
      </li>

      <!-- 实用工具 (可展开) -->
      <li class="nav-drawer-item nav-drawer-has-submenu" role="none">
        <button class="nav-drawer-link nav-drawer-submenu-toggle" aria-expanded="false" aria-controls="drawer-submenu-tools">
          <span>实用工具</span>
          <svg class="nav-drawer-submenu-icon" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 2l4 4-4 4"/>
          </svg>
        </button>
        <ul class="nav-drawer-submenu" id="drawer-submenu-tools" role="menu" aria-label="实用工具子菜单">
          <li class="nav-drawer-submenu-item" role="none">
            <a href="guide/index.html" class="nav-drawer-submenu-link" role="menuitem">
              <span class="nav-drawer-icon">📖</span>应对指南
            </a>
          </li>
          <li class="nav-drawer-submenu-item" role="none">
            <a href="emergency/index.html" class="nav-drawer-submenu-link" role="menuitem">
              <span class="nav-drawer-icon">🆘</span>紧急支持
            </a>
          </li>
          <li class="nav-drawer-submenu-item" role="none">
            <a href="resources/index.html" class="nav-drawer-submenu-link" role="menuitem">
              <span class="nav-drawer-icon">📚</span>资源库
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </div>

</aside>
